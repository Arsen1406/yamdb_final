# yamdb_final
yamdb_final

https://github.com/Arsen1406/yamdb_final/actions/workflows/yamdb_workflow/badge.svg
–ü—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É http://158.160.0.122/redoc/


–ü—Ä–æ–µ–∫—Ç YaMDb —Å–æ–±–∏—Ä–∞–µ—Ç –æ—Ç–∑—ã–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è. 
–°–∞–º–∏ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤ YaMDb –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è, –∑–¥–µ—Å—å –Ω–µ–ª—å–∑—è –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–∏–ª—å–º –∏–ª–∏ –ø–æ—Å–ª—É—à–∞—Ç—å –º—É–∑—ã–∫—É.
–ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤:
- –º—É–∑—ã–∫–∞üéº
- —Ñ–∏–ª—å–º—ãüé¨
- –∫–Ω–∏–≥–∏üìö

–¢–∞–∫ –∂–µ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
–ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –¥–µ–ª—è—Ç—Å—è –Ω–∞ –∂–∞–Ω—Ä—ã.
–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –∂–∞–Ω—Ä—ã.
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –æ—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ç–∑—ã–≤—ã, –æ—Ü–µ–Ω–∫—É –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –æ—Ç 1 –¥–æ 10.
–∏–∑ –æ—Ü–µ–Ω–æ–∫ —É –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è —Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —Ä–µ–π—Ç–∏–Ω–≥.
–î—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç –æ—Å—Ç–∞–≤–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –æ—Ç–∑—ã–≤–∞–º.
–î–æ–±–∞–≤–ª—è—Ç—å –æ—Ç–∑—ã–≤—ã, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ —Å—Ç–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫–∏ –º–æ–≥—É—Ç —Ç–æ–ª—å–∫–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.

# –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- python 3.7
- django 2.2.16
- django_rest_framework 3.12.4
- PyJWT 2.1.0
- pytest 6.2.4
- pytest-django 4.4.0
- pytest-pythonpath 0.7.3

#.env —Ñ–∞–π–ª
–í –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª.
–†–∞–∑–º–µ—Å—Ç–∏—Ç–µ –≤ –Ω–µ–º —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

- DB_ENGINE=django.db.backends.postgresql
- DB_NAME=<–ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö>
- POSTGRES_USER=<–ò–º—è –±–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è>
- POSTGRES_PASSWORD=<–ü–∞—Ä–æ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö>
- DB_HOST=db
- DB_PORT=<–ü–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö>

# –ß—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–æ–µ–∫—Ç
–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```sh
git clone <ssh —Å—Å—ã–ª–∫–∞>
```
–í –¥–∏—Ä—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–º–∞–Ω–¥—É, –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```sh
sudo docker compose up --build -d
```
–ó–∞—Ç–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç 
```sh
sudo docker-compose exec web python manage.py runserver
```
–ü–µ—Ä–µ–π—Ç–∏ –ø–æ –∞–¥—Ä–µ—Å—É —Å–µ—Ä–≤–µ—Ä–∞
```sh
http://localhost/
```

# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
1. /api/v1/auth/signup/ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST –∑–∞–ø—Ä–æ—Å —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ 
email –∏ username –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –ø–æ—Å–ª–µ —á–µ–≥–æ –Ω–∞ email –ø—Ä–∏–¥–µ—Ç –ø–∏—Å—å–º–æ —Å 
–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.
2. /api/v1/auth/token/ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST-–∑–∞–ø—Ä–æ—Å —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ 
username –∏ confirmation_code –Ω–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç. –í –æ—Ç–≤–µ—Ç –µ–º—É –ø—Ä–∏—Ö–æ–¥–∏—Ç token (JWT-—Ç–æ–∫–µ–Ω).
3. /api/v1/users/me/ –ø–æ –¥–∞–Ω–Ω–æ–º—É —ç–Ω—Ç–ø–æ–∏–Ω—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å PATCH
–∑–∞–ø—Ä–æ—Å –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –ø–æ–ª—è –≤ —Å–≤–æ—ë–º –ø—Ä–æ—Ñ–∞–π–ª–µ


| –ú–æ–¥–µ–ª–∏ |  |
| ------ | ------ |
| titles | –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è, –∫ –∫–æ—Ç–æ—Ä—ã–º –ø–∏—à—É—Ç –æ—Ç–∑—ã–≤—ã |
| categories | –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π. –ù–∞–ø—Ä–∏–º–µ—Ä ¬´–§–∏–ª—å–º—ã¬ª, ¬´–ö–Ω–∏–≥–∏¬ª, ¬´–ú—É–∑—ã–∫–∞¬ª |
| users | –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞ |
| genres | –∂–∞–Ω—Ä—ã –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π |
| reviews | –æ—Ç–∑—ã–≤—ã –Ω–∞ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è |
| comments | –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –æ—Ç–∑—ã–≤–∞–º |
| user | –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞ |
